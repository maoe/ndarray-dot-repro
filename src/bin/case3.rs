extern crate openblas_src as _;
extern crate openlibm_src as _;

#[link(name = "openblas", kind = "static")]
extern "C" {}

fn main() {
    let x = ndarray::ArrayView::from_shape(
        83,
        &[
            45895150016767740.0,
            45726075723110020.0,
            45553471823497020.0,
            45377226301036120.0,
            45197222091762910.0,
            45013336777692660.0,
            44825442255675810.0,
            44633404379672456.0,
            44437082573766540.0,
            44236329412918820.0,
            44030990168077496.0,
            43820902311837150.0,
            43605894980335860.0,
            43385788386508536.0,
            43160393179147800.0,
            42929509741446184.0,
            42692927421797350.0,
            42450423688568456.0,
            42201763199319816.0,
            41946696773480860.0,
            41684960255757550.0,
            41416273255488904.0,
            41140337744701400.0,
            40856836494669240.0,
            0.0,
            0.0,
            0.0,
            0.0,
            39313157585763930.0,
            38976274598927576.0,
            0.0,
            38270444200740900.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            33912671833165236.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            19555088181452108.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            5657782433651568.0,
            5832442258581992.0,
            6006726777844293.0,
        ],
    )
    .unwrap();
    let y = ndarray::ArrayView::from_shape(
        [83, 9],
        &[
            2491805.819593106,
            -4599782.4951517675,
            11312308.041951226,
            -24675734.563094027,
            70573259.79790413,
            -139406.79364791632,
            283777.0607522371,
            -524805.8893459118,
            1287881.329432902,
            2491805.8188297595,
            -4599782.494984715,
            11312308.04086584,
            -24675734.565959767,
            70573259.79704073,
            -139406.7935970287,
            283777.06066561246,
            -524805.8893257283,
            1287881.3293099012,
            2491805.8185890126,
            -4599782.49493203,
            11312308.040523529,
            -24675734.56686357,
            70573259.79676844,
            -139406.7935809797,
            283777.0606382926,
            -524805.8893193628,
            1287881.329271109,
            2491805.8183308514,
            -4599782.4948755335,
            11312308.04015646,
            -24675734.56783278,
            70573259.79647647,
            -139406.79356376975,
            283777.0606089964,
            -524805.8893125372,
            1287881.3292295109,
            2491805.8180743675,
            -4599782.494819402,
            11312308.03979177,
            -24675734.568795647,
            70573259.79618634,
            -139406.79354667157,
            283777.0605798906,
            -524805.8893057555,
            1287881.3291881825,
            2491805.8195998645,
            -4599782.495153247,
            11312308.041960835,
            -24675734.563068658,
            70573259.79791178,
            -139406.79364836687,
            283777.0607530041,
            -524805.8893460906,
            1287881.329433991,
            2491805.810619705,
            -4599782.49318801,
            11312308.029192178,
            -24675734.596781813,
            70573259.78775474,
            -139406.79304971598,
            283777.05973393534,
            -524805.8891086499,
            1287881.3279869899,
            2491805.818899617,
            -4599782.495,
            11312308.04096517,
            -24675734.565697506,
            70573259.79711975,
            -139406.7936016857,
            283777.06067353993,
            -524805.8893275757,
            1287881.3293211577,
            2491805.819603906,
            -4599782.495154132,
            11312308.041966582,
            -24675734.56305348,
            70573259.79791635,
            -139406.7936486362,
            283777.0607534627,
            -524805.8893461975,
            1287881.3294346423,
            2491805.8196052737,
            -4599782.495154428,
            11312308.041968526,
            -24675734.56304835,
            70573259.7979179,
            -139406.7936487274,
            283777.06075361784,
            -524805.8893462336,
            1287881.3294348626,
            2491805.8196066217,
            -4599782.4951547235,
            11312308.041970443,
            -24675734.563043285,
            70573259.79791941,
            -139406.79364881726,
            283777.06075377093,
            -524805.889346269,
            1287881.3294350798,
            2491805.819607959,
            -4599782.495155017,
            11312308.041972343,
            -24675734.563038263,
            70573259.79792093,
            -139406.7936489064,
            283777.0607539226,
            -524805.8893463047,
            1287881.3294352952,
            2491805.819609327,
            -4599782.495155316,
            11312308.041974287,
            -24675734.563033126,
            70573259.79792246,
            -139406.79364899755,
            283777.06075407786,
            -524805.8893463406,
            1287881.3294355152,
            2491805.8196106786,
            -4599782.495155612,
            11312308.041976208,
            -24675734.563028052,
            70573259.797924,
            -139406.79364908775,
            283777.0607542312,
            -524805.8893463764,
            1287881.3294357331,
            2491805.8196120323,
            -4599782.495155911,
            11312308.041978138,
            -24675734.56302298,
            70573259.79792556,
            -139406.79364917803,
            283777.06075438485,
            -524805.8893464124,
            1287881.3294359515,
            2491805.819613382,
            -4599782.495156207,
            11312308.041980058,
            -24675734.56301792,
            70573259.79792708,
            -139406.793649268,
            283777.0607545381,
            -524805.8893464481,
            1287881.329436169,
            2491805.819615408,
            -4599782.495156647,
            11312308.041982936,
            -24675734.563010305,
            70573259.79792936,
            -139406.79364940297,
            283777.0607547679,
            -524805.8893465016,
            1287881.3294364957,
            2491805.8196160886,
            -4599782.495156798,
            11312308.041983902,
            -24675734.563007742,
            70573259.79793009,
            -139406.79364944831,
            283777.0607548452,
            -524805.8893465194,
            1287881.329436605,
            2491805.8196174377,
            -4599782.495157091,
            11312308.04198582,
            -24675734.56300269,
            70573259.79793163,
            -139406.7936495383,
            283777.06075499824,
            -524805.889346555,
            1287881.329436822,
            2491805.819618789,
            -4599782.495157384,
            11312308.041987741,
            -24675734.562997606,
            70573259.79793316,
            -139406.79364962838,
            283777.0607551516,
            -524805.8893465908,
            1287881.32943704,
            2491805.819620142,
            -4599782.495157682,
            11312308.041989664,
            -24675734.562992528,
            70573259.7979347,
            -139406.79364971863,
            283777.06075530517,
            -524805.8893466266,
            1287881.3294372582,
            2491805.819621493,
            -4599782.495157977,
            11312308.041991586,
            -24675734.56298746,
            70573259.79793622,
            -139406.79364980865,
            283777.0607554585,
            -524805.8893466622,
            1287881.329437476,
            2491805.8196228445,
            -4599782.495158273,
            11312308.041993512,
            -24675734.562982373,
            70573259.79793777,
            -139406.7936498988,
            283777.06075561186,
            -524805.889346698,
            1287881.3294376938,
            2491805.8196241967,
            -4599782.495158568,
            11312308.04199543,
            -24675734.56297731,
            70573259.79793929,
            -139406.79364998895,
            283777.0607557653,
            -524805.8893467337,
            1287881.3294379117,
            2491805.819614284,
            -4599782.495156402,
            11312308.04198134,
            -24675734.563014522,
            70573259.79792808,
            -139406.79364932812,
            283777.06075464044,
            -524805.889346472,
            1287881.3294363145,
            2491805.8196269,
            -4599782.495159163,
            11312308.041999275,
            -24675734.56296716,
            70573259.79794234,
            -139406.79365016913,
            283777.06075607205,
            -524805.8893468056,
            1287881.3294383474,
            2491805.8177260943,
            -4599782.494743185,
            11312308.039296567,
            -24675734.570103128,
            70573259.79579245,
            -139406.7935234544,
            283777.0605403686,
            -524805.8892965469,
            1287881.3291320645,
            2491805.8153192597,
            -4599782.494216468,
            11312308.035874352,
            -24675734.57913884,
            70573259.79307017,
            -139406.7933630058,
            283777.0602672409,
            -524805.889232909,
            1287881.3287442436,
            2491805.813623127,
            -4599782.49384528,
            11312308.03346266,
            -24675734.585506402,
            70573259.79115175,
            -139406.79324993526,
            283777.0600747637,
            -524805.8891880622,
            1287881.3284709402,
            2491805.8141429895,
            -4599782.49395905,
            11312308.034201842,
            -24675734.583554763,
            70573259.79173975,
            -139406.7932845912,
            283777.0601337577,
            -524805.8892018076,
            1287881.3285547073,
            2491805.816469649,
            -4599782.494468222,
            11312308.037510062,
            -24675734.574820057,
            70573259.79437132,
            -139406.79343969506,
            283777.0603977871,
            -524805.8892633256,
            1287881.3289296094,
            2491805.8186466945,
            -4599782.494944653,
            11312308.040605547,
            -24675734.566647038,
            70573259.79683368,
            -139406.79358482498,
            283777.0606448383,
            -524805.8893208882,
            1287881.3292804037,
            2491805.8196363617,
            -4599782.4951612335,
            11312308.04201273,
            -24675734.562931646,
            70573259.79795305,
            -139406.7936507999,
            283777.0607571458,
            -524805.8893470557,
            1287881.3294398717,
            2491805.819637714,
            -4599782.495161528,
            11312308.042014651,
            -24675734.56292656,
            70573259.79795457,
            -139406.79365089,
            283777.0607572992,
            -524805.8893470913,
            1287881.3294400894,
            2491805.8196390704,
            -4599782.495161825,
            11312308.04201658,
            -24675734.562921472,
            70573259.79795612,
            -139406.79365098034,
            283777.06075745315,
            -524805.889347127,
            1287881.3294403083,
            2491805.8196404176,
            -4599782.495162117,
            11312308.042018496,
            -24675734.56291641,
            70573259.79795764,
            -139406.7936510702,
            283777.060757606,
            -524805.8893471628,
            1287881.3294405255,
            2491805.8193806447,
            -4599782.495105269,
            11312308.04164913,
            -24675734.563891646,
            70573259.79766381,
            -139406.79363375282,
            283777.06072812696,
            -524805.8893402943,
            1287881.3293986672,
            2491805.819339668,
            -4599782.495096304,
            11312308.041590868,
            -24675734.564045485,
            70573259.79761747,
            -139406.79363102117,
            283777.0607234769,
            -524805.8893392107,
            1287881.3293920646,
            2491805.8196444726,
            -4599782.495163007,
            11312308.042024262,
            -24675734.562901188,
            70573259.79796223,
            -139406.79365134062,
            283777.0607580662,
            -524805.8893472701,
            1287881.3294411788,
            2491805.8196458244,
            -4599782.495163303,
            11312308.042026184,
            -24675734.562896118,
            70573259.79796375,
            -139406.79365143075,
            283777.06075821957,
            -524805.8893473058,
            1287881.3294413963,
            2491805.8196471767,
            -4599782.495163597,
            11312308.042028107,
            -24675734.562891036,
            70573259.79796529,
            -139406.79365152083,
            283777.06075837306,
            -524805.8893473414,
            1287881.3294416144,
            2491805.8196485285,
            -4599782.495163894,
            11312308.042030027,
            -24675734.56288597,
            70573259.79796681,
            -139406.79365161096,
            283777.06075852644,
            -524805.8893473773,
            1287881.329441832,
            2491805.8196498826,
            -4599782.495164192,
            11312308.042031955,
            -24675734.562880877,
            70573259.79796837,
            -139406.79365170127,
            283777.06075868016,
            -524805.8893474132,
            1287881.3294420505,
            2491805.8196512316,
            -4599782.495164483,
            11312308.042033873,
            -24675734.562875807,
            70573259.79796986,
            -139406.79365179114,
            283777.0607588332,
            -524805.8893474486,
            1287881.3294422678,
            2491805.8195824814,
            -4599782.495149444,
            11312308.04193612,
            -24675734.563133925,
            70573259.79789212,
            -139406.79364720802,
            283777.06075103144,
            -524805.8893456311,
            1287881.32943119,
            2491805.819624736,
            -4599782.495158687,
            11312308.041996198,
            -24675734.562975273,
            70573259.79793991,
            -139406.79365002483,
            283777.06075582653,
            -524805.889346748,
            1287881.3294379986,
            2491805.8196552866,
            -4599782.495165375,
            11312308.042039638,
            -24675734.562860593,
            70573259.79797445,
            -139406.7936520615,
            283777.0607592934,
            -524805.8893475559,
            1287881.3294429209,
            2491805.8196566417,
            -4599782.495165674,
            11312308.042041564,
            -24675734.562855512,
            70573259.797976,
            -139406.79365215186,
            283777.06075944717,
            -524805.8893475919,
            1287881.3294431397,
            2491805.817113491,
            -4599782.494609121,
            11312308.038425522,
            -24675734.572402958,
            70573259.79509953,
            -139406.793482616,
            283777.0604708503,
            -524805.8892803492,
            1287881.3290333534,
            2491805.8196593435,
            -4599782.495166263,
            11312308.042045405,
            -24675734.56284537,
            70573259.79797906,
            -139406.79365233192,
            283777.0607597537,
            -524805.8893476634,
            1287881.3294435747,
            2491805.8196606943,
            -4599782.495166558,
            11312308.04204733,
            -24675734.562840294,
            70573259.79798059,
            -139406.79365242194,
            283777.06075990695,
            -524805.8893476989,
            1287881.3294437926,
            2491805.8196521243,
            -4599782.495164686,
            11312308.042035142,
            -24675734.562872477,
            70573259.79797089,
            -139406.7936518507,
            283777.06075893453,
            -524805.8893474727,
            1287881.329442412,
            2491805.819663383,
            -4599782.495167144,
            11312308.042051148,
            -24675734.56283018,
            70573259.79798359,
            -139406.7936526012,
            283777.06076021213,
            -524805.8893477699,
            1287881.3294442256,
            2491805.81966475,
            -4599782.495167446,
            11312308.042053096,
            -24675734.562825065,
            70573259.79798515,
            -139406.79365269234,
            283777.06076036725,
            -524805.8893478062,
            1287881.3294444464,
            2491805.8196661016,
            -4599782.495167741,
            11312308.042055015,
            -24675734.562819995,
            70573259.79798669,
            -139406.79365278245,
            283777.06076052063,
            -524805.8893478417,
            1287881.3294446638,
            2491805.819667453,
            -4599782.495168036,
            11312308.042056937,
            -24675734.56281491,
            70573259.7979882,
            -139406.79365287247,
            283777.060760674,
            -524805.8893478776,
            1287881.3294448815,
            2491805.8196688048,
            -4599782.495168332,
            11312308.042058859,
            -24675734.562809836,
            70573259.79798973,
            -139406.79365296257,
            283777.06076082744,
            -524805.8893479131,
            1287881.3294450992,
            2491805.818873055,
            -4599782.494994187,
            11312308.040927403,
            -24675734.56579723,
            70573259.79708971,
            -139406.793599915,
            283777.06067052565,
            -524805.8893268731,
            1287881.3293168778,
            2491805.8196715084,
            -4599782.4951689225,
            11312308.042062705,
            -24675734.562799692,
            70573259.7979928,
            -139406.79365314284,
            283777.06076113426,
            -524805.8893479848,
            1287881.3294455353,
            2491805.819390182,
            -4599782.495107358,
            11312308.041662691,
            -24675734.56385585,
            70573259.7976746,
            -139406.7936343886,
            283777.0607292093,
            -524805.8893405466,
            1287881.3294002037,
            2491805.819674212,
            -4599782.495169515,
            11312308.042066546,
            -24675734.56278954,
            70573259.79799584,
            -139406.79365332314,
            283777.060761441,
            -524805.8893480564,
            1287881.3294459705,
            2491805.8184537096,
            -4599782.494902418,
            11312308.040331146,
            -24675734.567371532,
            70573259.79661539,
            -139406.79357195992,
            283777.0606229383,
            -524805.8893157855,
            1287881.329249307,
            2491805.819676916,
            -4599782.495170108,
            11312308.042070393,
            -24675734.562779386,
            70573259.79799892,
            -139406.79365350338,
            283777.0607617479,
            -524805.8893481278,
            1287881.3294464063,
            2491805.8189929584,
            -4599782.495020429,
            11312308.041097889,
            -24675734.56534709,
            70573259.79722533,
            -139406.79360790827,
            283777.06068413233,
            -524805.8893300436,
            1287881.3293361978,
            2491805.8185156775,
            -4599782.494915979,
            11312308.040419258,
            -24675734.567138895,
            70573259.7966855,
            -139406.79357609095,
            283777.0606299705,
            -524805.8893174239,
            1287881.3292592927,
            2491805.8196809716,
            -4599782.495170995,
            11312308.042076157,
            -24675734.562764157,
            70573259.7980035,
            -139406.79365377364,
            283777.060762208,
            -524805.8893482351,
            1287881.32944706,
            2491805.819682323,
            -4599782.49517129,
            11312308.042078078,
            -24675734.56275909,
            70573259.79800501,
            -139406.79365386386,
            283777.06076236145,
            -524805.8893482711,
            1287881.3294472776,
            2491805.8196836747,
            -4599782.495171584,
            11312308.042080002,
            -24675734.56275402,
            70573259.79800656,
            -139406.79365395394,
            283777.0607625149,
            -524805.8893483066,
            1287881.3294474955,
            2491805.8196850256,
            -4599782.495171882,
            11312308.042081922,
            -24675734.562748943,
            70573259.79800808,
            -139406.79365404398,
            283777.06076266814,
            -524805.8893483422,
            1287881.3294477132,
            2491805.8196170186,
            -4599782.495156999,
            11312308.041985225,
            -24675734.56300425,
            70573259.79793116,
            -139406.79364951036,
            283777.0607549507,
            -524805.8893465443,
            1287881.3294367548,
            2491805.8196737734,
            -4599782.495169421,
            11312308.042065924,
            -24675734.56279119,
            70573259.79799534,
            -139406.79365329395,
            283777.06076139124,
            -524805.8893480446,
            1287881.3294459,
            2491805.8188979174,
            -4599782.4949996285,
            11312308.040962752,
            -24675734.565703902,
            70573259.79711784,
            -139406.7936015723,
            283777.06067334703,
            -524805.8893275306,
            1287881.329320884,
            2491805.8196858657,
            -4599782.495172067,
            11312308.042083118,
            -24675734.5627458,
            70573259.79800905,
            -139406.79365409995,
            283777.0607627635,
            -524805.8893483646,
            1287881.3294478485,
            2491805.8103355705,
            -4599782.493125824,
            11312308.028788172,
            -24675734.597848494,
            70573259.78743336,
            -139406.79303077454,
            283777.05970169173,
            -524805.8891011372,
            1287881.3279412063,
            2491805.819693137,
            -4599782.495173655,
            11312308.042093456,
            -24675734.562718492,
            70573259.79801726,
            -139406.79365458468,
            283777.06076358864,
            -524805.8893485566,
            1287881.32944902,
            2491805.819694493,
            -4599782.4951739535,
            11312308.042095384,
            -24675734.562713407,
            70573259.7980188,
            -139406.7936546751,
            283777.0607637425,
            -524805.8893485927,
            1287881.3294492387,
            2491805.819695841,
            -4599782.495174251,
            11312308.0420973,
            -24675734.56270835,
            70573259.79802032,
            -139406.79365476494,
            283777.0607638954,
            -524805.8893486286,
            1287881.3294494555,
            2491805.8166334406,
            -4599782.494504068,
            11312308.037742952,
            -24675734.57420515,
            70573259.79455659,
            -139406.79345061394,
            283777.0604163742,
            -524805.8892676565,
            1287881.328956002,
            2491805.8196949093,
            -4599782.495174046,
            11312308.042095976,
            -24675734.56271185,
            70573259.79801928,
            -139406.79365470292,
            283777.0607637898,
            -524805.8893486036,
            1287881.3294493055,
            2491805.8196996204,
            -4599782.495175074,
            11312308.042102674,
            -24675734.562694147,
            70573259.7980246,
            -139406.79365501693,
            283777.0607643244,
            -524805.8893487282,
            1287881.3294500648,
            2491805.819701235,
            -4599782.495175429,
            11312308.042104969,
            -24675734.562688097,
            70573259.79802641,
            -139406.79365512446,
            283777.0607645075,
            -524805.8893487707,
            1287881.3294503246,
            2491805.8197026043,
            -4599782.4951757295,
            11312308.042106917,
            -24675734.562682953,
            70573259.79802798,
            -139406.79365521576,
            283777.060764663,
            -524805.8893488069,
            1287881.3294505456,
            2491805.8197039515,
            -4599782.495176025,
            11312308.042108834,
            -24675734.562677894,
            70573259.79802951,
            -139406.79365530566,
            283777.06076481583,
            -524805.889348843,
            1287881.3294507628,
        ],
    )
    .unwrap();

    let expected_on_ubuntu = ndarray::array![
        3074248053011512000000000.0,
        -5674949578070301000000000.0,
        13956481162487340000000000.0,
        -30443515453255587000000000.0,
        87069267154860620000000000.0,
        -171992159480864800000000.0,
        350107969749616300000000.0,
        -647475606388764700000000.0,
        1588914609388460000000000.0,
    ];
    let expected_on_bullseye = ndarray::array![
        3074248053011512000000000.0,
        -5674949578070301000000000.0,
        13956481162487340000000000.0,
        -30443515453255587000000000.0,
        87069267154860620000000000.0,
        -171992159480864800000000.0,
        350107969749616300000000.0,
        -647475606388764700000000.0,
        1588914609388460300000000.0,
    ];
    let expected_on_macos = ndarray::array![
        3074248053011513000000000.0,
        -5674949578070300000000000.0,
        13956481162487342000000000.0,
        -30443515453255587000000000.0,
        87069267154860600000000000.0,
        -171992159480864780000000.0,
        350107969749616300000000.0,
        -647475606388764700000000.0,
        1588914609388460000000000.0
    ];
    let actual = x.dot(&y);
    assert_eq!(expected_on_macos, actual);
}
